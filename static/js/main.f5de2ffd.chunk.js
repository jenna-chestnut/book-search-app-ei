(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){},20:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),i=(a(14),a(1)),l=a(2),s=a(4),u=a(3),p=a(5),m=(a(16),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"Book Search"))}}]),t}(r.a.Component)),h=a(8),E=(a(18),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.handleChange;return r.a.createElement("div",{className:"search-term"},r.a.createElement("label",{htmlFor:"search-term"},"Search for:"),r.a.createElement("input",{type:"text",id:"search-term",value:this.props.search,onChange:function(t){return e("search",t.target.value)},required:!0}),r.a.createElement("input",{type:"submit",value:"Search"}))}}]),t}(r.a.Component)),d=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"book-type"},"Book Type:"),r.a.createElement("select",{id:"book-type",onChange:function(t){return e("bookType",t.target.value)}},r.a.createElement("option",{value:"NONE"},"Select Book Type"),r.a.createElement("option",{value:"ebooks"},"E-Books"),r.a.createElement("option",{value:"free-ebooks"},"Free E-Books"),r.a.createElement("option",{value:"paid-ebooks"},"Paid E-Books"),r.a.createElement("option",{value:"full"},"Full"),r.a.createElement("option",{value:"partial"},"Partial")))}}]),t}(r.a.Component),b=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"print-type"},"Print Type:"),r.a.createElement("select",{id:"print-type",onChange:function(t){return e("printType",t.target.value)}},r.a.createElement("option",{value:"NONE"},"Select Print Type"),r.a.createElement("option",{value:"ALL"},"All Types"),r.a.createElement("option",{value:"BOOKS"},"Books"),r.a.createElement("option",{value:"MAGAZINES"},"Magazines")))}}]),t}(r.a.Component),f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).setSearch=function(e,t){a.setState(Object(h.a)({},e,t))},a.resetSearchState=function(){a.setState({search:"",bookType:"NONE",printType:"NONE"})},a.state={search:"",bookType:"NONE",printType:"NONE"},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.search,n=t.bookType,o=t.printType,c=this.props.handleSubmit;return r.a.createElement("div",{className:"search-input"},r.a.createElement("form",{onSubmit:function(t){c(t,a,n,o),e.resetSearchState()}},r.a.createElement(E,{search:this.state.search,handleChange:this.setSearch}),r.a.createElement("div",{className:"selects"},r.a.createElement(b,{handleChange:this.setSearch}),r.a.createElement(d,{handleChange:this.setSearch}))))}}]),t}(r.a.Component),v=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.assignExpand,a=e.details,n=e.expanded,o=this.props.details,c=o.title,i=o.author,l=o.description,s=o.image,u=o.previewLink,p=o.price,m=o.rating,h=n===a?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"rating"},r.a.createElement("b",null,"Rating:")," ",m?m+"/5":"Rating unavailable"),r.a.createElement("p",null,l),r.a.createElement("a",{href:u,target:"_blank",rel:"noopener noreferrer"},"Click to preview")):"";return r.a.createElement("li",{className:"simple-book"},r.a.createElement("div",{className:"group"},r.a.createElement("div",{className:"item"},r.a.createElement("img",{src:s,alt:c})),r.a.createElement("div",{className:"item"},r.a.createElement("h2",{className:"book-title"},c),r.a.createElement("span",null,r.a.createElement("b",null,"Price:"),"  ",p),r.a.createElement("span",null,r.a.createElement("b",null,"Author:"),"  ",i),r.a.createElement("button",{onClick:function(){return t(a)}},"Details"))),h,r.a.createElement("hr",null))}}]),t}(r.a.Component),g=(a(20),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.books,a=e.expanded,n=e.assignExpand,o=t.map(function(e,t){return r.a.createElement(v,{key:t,details:e,expanded:a,assignExpand:n})});return r.a.createElement("div",{className:"book-list"},r.a.createElement("ul",null,o))}}]),t}(r.a.Component)),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).sendBookSearch=function(e,t,n,r){e.preventDefault();var o="https://www.googleapis.com/books/v1/volumes?q=".concat(t);o+="NONE"!==n?"?printType=".concat(n):"",o+="NONE"!==r?"?filter=".concat(r):"",a.setState({loading:!0}),fetch(o).then(function(e){if(e.ok)return e.json();throw new Error}).then(function(e){if(void 0===e.items)throw new Error("Sorry!! Book not found.");var t=e.items.map(function(e){var t=e.volumeInfo;return{title:t.title,author:t.authors?t.authors[0]:"Not found",description:t.description,image:t.imageLinks?t.imageLinks.thumbnail:"https://www.diyglass.com.au/components/com_virtuemart/assets/images/vmgeneral/noimage.jpg",previewLink:t.previewLink,rating:t.averageRating,price:e.saleInfo.retailPrice?"$".concat(e.saleInfo.retailPrice.amount):"Unavailable"}});a.setState({books:t,loading:!1})}).catch(function(e){a.setState({error:e.message,loading:!1})})},a.clearError=function(){a.setState({error:null})},a.assignExpand=function(e){a.setState({expanded:e})},a.state={books:[],expanded:null,error:null,loading:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.error?r.a.createElement("div",{className:"error"},this.state.error,r.a.createElement("button",{onClick:this.clearError},"Clear")):"",t=this.state.loading?r.a.createElement("div",{className:"loading"},r.a.createElement("img",{src:"https://gifimage.net/wp-content/uploads/2017/08/spinner-gif-16.gif",alt:"loading"})):"";return r.a.createElement("div",{className:"App"},e,r.a.createElement(m,null),r.a.createElement(f,{handleSubmit:this.sendBookSearch}),r.a.createElement("hr",null),t,r.a.createElement(g,{books:this.state.books,expanded:this.state.expanded,assignExpand:this.assignExpand}))}}]),t}(n.Component);c.a.render(r.a.createElement(O,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(22)}},[[9,2,1]]]);
//# sourceMappingURL=main.f5de2ffd.chunk.js.map